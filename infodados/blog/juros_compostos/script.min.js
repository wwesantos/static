function showResultFor(t,e,a){get("#totalInvested").innerHTML=getCurrency(t),get("#totalRevenue").innerHTML=getCurrency(e),get("#total").innerHTML=getCurrency(a)}function displayChart(t,e){void 0!==window.myStackChart&&null!==window.myStackChart&&window.myStackChart.destroy(),window.myStackChart=new Chart(document.getElementById("myChart"),{type:"bar",options:{animation:!0,plugins:{legend:{display:!0},tooltip:{enabled:!0,displayColors:!1,callbacks:{label:function(a){let n=a.dataIndex,l=t[n].totalInvestido,i=t[n].totalRendimento;return e[n],"Investimentos: "+getCurrency(l)+" | Rendimentos: "+getCurrency(i)+" | Acumulado: "+getCurrency(l+i)}}}},stack:!0,scales:{y:{ticks:{callback:t=>getCurrency(t)}}}},data:{labels:e,datasets:[{stack:"stack1",label:"Total investido at\xe9 o m\xeas",data:t.map(t=>t.totalInvestido)},{stack:"stack1",label:"Total de rendimento acumulado at\xe9 o m\xeas",data:t.map(t=>t.totalRendimento)}]}})}function updateResult(){let t=getFromBrDecimalToNumber(get("#interest").value),e=getFromBrDecimalToNumber(get("#time").value),a=getFromBrDecimalToNumber(get("#initial").value),n=getFromBrDecimalToNumber(get("#montly").value),l=get("#interestOption"),i=l.options[l.selectedIndex].value,o=get("#timeOption"),s=o.options[o.selectedIndex].value,u=t/100+1;if("ANNUAL"==i&&(u=Math.pow(u,1/12)),u-=1,"YEARS"==s&&(e*=12),(a>0||n>0)&&t>0&&e>0){let r=[],d=[],m=a,p=0,c=0;d.push({totalRendimento:p,totalInvestido:m,totalAcumulado:m+p}),r.push("M\xeas "+c);for(let v=0;v<e;v++){let $=(m+p)*u;m+=n,p+=$,c=v+1,d.push({totalRendimento:p,totalInvestido:m,totalAcumulado:m+p}),r.push("M\xeas "+c)}let _=m+p;get("#result").classList.remove("d-none"),showResultFor(m,p,_),displayChart(d,r)}else get("#result").classList.add("d-none")}function updateValueForElement(t,e){var a=get(t),n=a.value;0==n.length&&(n="0"),a.value=addValue(n,e),updateResult()}function refreshInterest(){let t=get("#interest"),e=t.value;if(0==e.length)return;let a=getFromBrDecimalToNumber(e);var n=get("#interestOption");let l=n.options[n.selectedIndex].value;"MONTHLY"==l&&a>100?t.value="100":"ANNUAL"==l&&a>200?t.value="200":t.value=getNumbersOnlyIncludeBrDecimalFormat(e)}function refreshTime(){let t=get("#time"),e=t.value;if(0==e.length)return;let a=Number(getNumbersOnly(e));var n=get("#timeOption");let l=n.options[n.selectedIndex].value;"MONTHS"==l&&a>1200?t.value="600":"YEARS"==l&&a>100?t.value="100":t.value=getNumbersOnly(e)}get("#form-inputs").addEventListener("input",t=>{var e=t.target.id;"interestOption"==e||"interest"==e?refreshInterest():"timeOption"==e||"time"==e?refreshTime():("initial"==e||"montly"==e)&&("initial"==e&&t.target.value.length>14?t.target.value=t.target.value.substring(0,14):"montly"==e&&t.target.value.length>13?t.target.value=t.target.value.substring(0,13):t.target.value=getNumbersOnlyIncludeBrDecimalFormat(t.target.value)),updateResult()}),get("#form-inputs").addEventListener("click",t=>{var e=t.target.classList;e.contains("initialUp")?updateValueForElement("#initial",1):e.contains("initialDown")?updateValueForElement("#initial",-1):e.contains("montlyUp")?updateValueForElement("#montly",1):e.contains("montlyDown")?updateValueForElement("#montly",-1):e.contains("interestUp")?updateValueForElement("#interest",1):e.contains("interestDown")?updateValueForElement("#interest",-1):e.contains("timeUp")?updateValueForElement("#time",1):e.contains("timeDown")&&updateValueForElement("#time",-1)});