function getTaxa(e,t,r){var a=e*r/100;return"DAYS"==t?Math.pow(1+a,1/360)-1:"MONTHS"==t?Math.pow(1+a,1/12)-1:a}function getCdbTaxBracket(e,t){var r=0;return r="DAYS"==t?e:"MONTHS"==t?30.4167*e:365*e,r<=180?.225:r<=360?.2:r<=720?.175:.15}function getCdbTax(e,t,r,a){var i=getIofTaxBracket(a,r);if(i>0){var d=e*i,n=(e-d)*t;return n+d}return e*t}function getIofTaxBracket(e,t){return"DAYS"==t&&e<=30?iof[e-1]:0}function showResultFor(e,t,r,a,i,d){e=getFromBrDecimalToNumber(e),t=getFromBrDecimalToNumber(t),r=getFromBrDecimalToNumber(r),a=getFromBrDecimalToNumber(a),i=getFromBrDecimalToNumber(i);var n=100==r?1:r/100,o=100==a?1:a/100,l=getTaxa(t,d,n),u=getTaxa(t,d,o),c=getCdbTaxBracket(i,d),g=(Math.pow(1+l,i)-1)*e,s=(Math.pow(1+u,i)-1)*e,L=getCdbTax(g,c,d,i),m=e+g,p=e+s,b=m-L,B=p,v=getCurrency(b),C=getCurrency(B);get("#tdBrlCdb").innerHTML=getCurrency(e),get("#tdBrlLci").innerHTML=getCurrency(e),get("#tdBrlCdbBruto").innerHTML=getCurrency(m),get("#tdBrlLciBruto").innerHTML=getCurrency(p),get("#tdBrlCdbTax").innerHTML=getCurrency(L),get("#tdBrlCdbLiquido").innerHTML=v,get("#tdBrlLciLiquido").innerHTML=C,get("#tdBrlCdbRendimento").innerHTML=getCurrency(g),get("#tdBrlLciRendimento").innerHTML=getCurrency(s);var T=getIofTaxBracket(i,d);get("#tdPctCdbTaxBracket").innerHTML=T>0?getPct(T,1)+"+"+getPct(c,1):getPct(c,1),get("#tdBrlCdbLiquido").classList.remove("text-primary"),get("#tdBrlLciLiquido").classList.remove("text-primary"),get("#tdBrlCdbLiquido").classList.remove("text-secondary"),get("#tdBrlLciLiquido").classList.remove("text-secondary"),v==C?(get("#tdBrlCdbLiquido").classList.add("text-primary"),get("#tdBrlLciLiquido").classList.add("text-primary")):b<B?(get("#tdBrlCdbLiquido").classList.add("text-secondary"),get("#tdBrlLciLiquido").classList.add("text-primary")):(get("#tdBrlCdbLiquido").classList.add("text-primary"),get("#tdBrlLciLiquido").classList.add("text-secondary"))}function updateResult(){var e=get("#brl").value,t=get("#di").value,r=get("#diCdb").value,a=get("#diLci").value,i=get("#periodo").value,d=get("#periodoOption"),n=d.options[d.selectedIndex].value;console.log(e,t,r,a,i,n),0==e.length||0==t.length||0==r.length||0==a.length||0==i.length||0==i?get("#result").classList.add("d-none"):(showResultFor(e,t,r,a,i,n),get("#result").classList.remove("d-none"))}function updateValueForElement(e,t){var r=get(e),a=r.value;r.value=addValue(a,t),updateResult()}var iof=[.96,.93,.9,.86,.83,.8,.76,.73,.7,.66,.63,.6,.56,.53,.5,.46,.43,.4,.36,.33,.3,.26,.23,.2,.16,.13,.1,.06,.03,0];get("#form-inputs").addEventListener("input",e=>{var t=e.target.id;"brl"==t||"di"==t||"diCdb"==t||"diLci"==t?e.target.value=getNumbersOnlyIncludeBrDecimalFormat(e.target.value):"periodo"==t&&(e.target.value=getNumbersOnly(e.target.value)),updateResult()}),get("#form-inputs").addEventListener("click",e=>{var t=e.target.classList;t.contains("brlUp")?updateValueForElement("#brl",1):t.contains("brlDown")?updateValueForElement("#brl",-1):t.contains("diUp")?updateValueForElement("#di",1):t.contains("diDown")?updateValueForElement("#di",-1):t.contains("diCdbUp")?updateValueForElement("#diCdb",1):t.contains("diCdbDown")?updateValueForElement("#diCdb",-1):t.contains("diLciUp")?updateValueForElement("#diLci",1):t.contains("diLciDown")?updateValueForElement("#diLci",-1):t.contains("periodoUp")?updateValueForElement("#periodo",1):t.contains("periodoDown")&&updateValueForElement("#periodo",-1)});