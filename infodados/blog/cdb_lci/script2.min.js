function getTaxa(e,t,r){var i=e*r/100;return"DAYS"==t?Math.pow(1+i,1/360)-1:"MONTHS"==t?Math.pow(1+i,1/12)-1:i}function getCdbTaxBracket(e,t){var r=0;return r="DAYS"==t?e:"MONTHS"==t?30*e:360*e,r<=180?.225:r<=360?.2:r<=720?.175:.15}function getCdbTax(e,t,r,i){if("DAYS"==r&&i<=30){var a=iof[i-1],d=e*a,n=(e-d)*t;return n+d}return e*t}function showResultFor(e,t,r,i,a,d){e=getFromBrDecimalToNumber(e),t=getFromBrDecimalToNumber(t),r=getFromBrDecimalToNumber(r),i=getFromBrDecimalToNumber(i),a=getFromBrDecimalToNumber(a);var n=100==r?1:r/100,o=100==i?1:i/100,l=getTaxa(t,d,n),u=getTaxa(t,d,o),c=getCdbTaxBracket(a,d),s=(Math.pow(1+l,a)-1)*e,g=(Math.pow(1+u,a)-1)*e,L=getCdbTax(s,c,d,a),m=e+s,p=e+g,b=m-L,v=p;get("#tdBrlCdb").innerHTML=getCurrency(e),get("#tdBrlLci").innerHTML=getCurrency(e),get("#tdBrlCdbBruto").innerHTML=getCurrency(m),get("#tdBrlLciBruto").innerHTML=getCurrency(p),get("#tdBrlCdbTax").innerHTML=getCurrency(L),get("#tdBrlCdbLiquido").innerHTML=getCurrency(b),get("#tdBrlLciLiquido").innerHTML=getCurrency(v),get("#tdBrlCdbRendimento").innerHTML=getCurrency(s),get("#tdBrlLciRendimento").innerHTML=getCurrency(g),get("#tdBrlCdbLiquido").classList.remove("text-primary"),get("#tdBrlLciLiquido").classList.remove("text-primary"),get("#tdBrlCdbLiquido").classList.remove("text-secondary"),get("#tdBrlLciLiquido").classList.remove("text-secondary"),b>v?(get("#tdBrlCdbLiquido").classList.add("text-primary"),get("#tdBrlLciLiquido").classList.add("text-secondary")):(get("#tdBrlCdbLiquido").classList.add("text-secondary"),get("#tdBrlLciLiquido").classList.add("text-primary"))}function updateResult(){var e=get("#brl").value,t=get("#di").value,r=get("#diCdb").value,i=get("#diLci").value,a=get("#periodo").value,d=get("#periodoOption"),n=d.options[d.selectedIndex].value;console.log(e,t,r,i,a,n),0==e.length||0==t.length||0==r.length||0==i.length||0==a.length||0==a?get("#result").classList.add("d-none"):(showResultFor(e,t,r,i,a,n),get("#result").classList.remove("d-none"))}function updateValueForElement(e,t){var r=get(e),i=r.value;r.value=addValue(i,t),updateResult()}var iof=[.96,.93,.9,.86,.83,.8,.76,.73,.7,.66,.63,.6,.56,.53,.5,.46,.43,.4,.36,.33,.3,.26,.23,.2,.16,.13,.1,.06,.03,0];get("#form-inputs").addEventListener("input",e=>{var t=e.target.id;"brl"==t||"di"==t||"diCdb"==t||"diLci"==t?e.target.value=getNumbersOnlyIncludeBrDecimalFormat(e.target.value):"periodo"==t&&(e.target.value=getNumbersOnly(e.target.value)),updateResult()}),get("#form-inputs").addEventListener("click",e=>{var t=e.target.classList;t.contains("brlUp")?updateValueForElement("#brl",1):t.contains("brlDown")?updateValueForElement("#brl",-1):t.contains("diUp")?updateValueForElement("#di",1):t.contains("diDown")?updateValueForElement("#di",-1):t.contains("diCdbUp")?updateValueForElement("#diCdb",1):t.contains("diCdbDown")?updateValueForElement("#diCdb",-1):t.contains("diLciUp")?updateValueForElement("#diLci",1):t.contains("diLciDown")?updateValueForElement("#diLci",-1):t.contains("periodoUp")?updateValueForElement("#periodo",1):t.contains("periodoDown")&&updateValueForElement("#periodo",-1)});