const http=new HTTP,url="https://xifkpqoely3an5tiyuhfqar4p40luvsn.lambda-url.sa-east-1.on.aws";let exchangeRate,baseValue=0;const READ_ONLY=!0,READ_WRITE=!1,THOUSAND=1e3,MILLION=THOUSAND*THOUSAND,HUNDRED_MILLION=100*MILLION,dateOptions={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},usd=get("#usd"),brl=get("#brl"),btc=get("#btc"),mbtc=get("#mbtc"),ubtc=get("#ubtc"),satoshi=get("#satoshi"),btcToUsd=get("#btcToUsd"),btcToBrl=get("#btcToBrl"),lastUpdate=get("#lastUpdate"),load=get("#load"),loading=get("#loading"),toggleFields=e=>{usd.readOnly=e,brl.readOnly=e,btc.readOnly=e,mbtc.readOnly=e,ubtc.readOnly=e,satoshi.readOnly=e,load.disabled=e,loading.style.display=e==READ_ONLY?"inline-block":"none"},loadExchangeRate=()=>{toggleFields(READ_ONLY),http.get(url).then(e=>{exchangeRate=e,btcToUsd.value=`$ ${e.btcToUsd.toFixed(2)}`,btcToBrl.value=`R$ ${e.btcToBrl.toFixed(2)}`,lastUpdate.value=(new Date).toLocaleDateString("en-US",dateOptions),toggleFields(READ_WRITE)}).catch(e=>{showError(e),toggleFields(READ_WRITE)})};loadExchangeRate(),load.addEventListener("click",e=>{e.preventDefault(),loadExchangeRate()}),get("#form-inputs").addEventListener("focusin",e=>{0==e.target.value&&(usd.value="",brl.value="",btc.value="",mbtc.value="",ubtc.value="",satoshi.value="")}),get("#form-inputs").addEventListener("input",e=>{let t=getFromUsDecimalToNumber(e.target.value),a=getNumbersOnlyIncludeUsDecimalFormat(e.target.value);e.target.value=a,"brl"==e.target.id?baseValue=t/exchangeRate.btcToBrl:"usd"==e.target.id?baseValue=t/exchangeRate.btcToUsd:"btc"==e.target.id?baseValue=t:"mbtc"==e.target.id?baseValue=t/THOUSAND:"ubtc"==e.target.id?baseValue=t/MILLION:"satoshi"==e.target.id&&(baseValue=t/HUNDRED_MILLION),"brl"!=e.target.id&&(brl.value=getNumbersOnlyIncludeUsDecimalFormat(Number(baseValue*exchangeRate.btcToBrl).toString())),"usd"!=e.target.id&&(usd.value=getNumbersOnlyIncludeUsDecimalFormat(Number(baseValue*exchangeRate.btcToUsd).toString())),"btc"!=e.target.id&&(btc.value=getNumbersOnlyIncludeUsDecimalFormat(Number(baseValue).toString())),"mbtc"!=e.target.id&&(mbtc.value=getNumbersOnlyIncludeUsDecimalFormat(Number(baseValue*THOUSAND).toString())),"ubtc"!=e.target.id&&(ubtc.value=getNumbersOnlyIncludeUsDecimalFormat(Number(baseValue*MILLION).toString())),"satoshi"!=e.target.id&&(satoshi.value=getNumbersOnlyIncludeUsDecimalFormat(Number(baseValue*HUNDRED_MILLION).toString()))});