const http=new HTTP,url="https://xifkpqoely3an5tiyuhfqar4p40luvsn.lambda-url.sa-east-1.on.aws";let exchangeRate,baseValue=0;const READ_ONLY=!0,READ_WRITE=!1,dateOptions={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},usd=get("#usd"),brl=get("#brl"),usdBrl=get("#usdBrl"),lastUpdate=get("#lastUpdate"),load=get("#load"),loading=get("#loading"),toggleFields=e=>{usd.readOnly=e,brl.readOnly=e,load.disabled=e,loading.style.display=e==READ_ONLY?"inline-block":"none"},loadExchangeRate=()=>{toggleFields(READ_ONLY),http.get(url).then(e=>{exchangeRate=e,usdBrl.innerHTML=`1,00 USD = ${get2DigitsBrValue(e.btcToBrl/e.btcToUsd)} BRL`,lastUpdate.innerHTML=`${(new Date).toLocaleDateString("en-US",dateOptions)}`,toggleFields(READ_WRITE)}).catch(e=>{showError(e),toggleFields(READ_WRITE)})};loadExchangeRate(),load.addEventListener("click",e=>{e.preventDefault(),loadExchangeRate()}),get("#form-inputs").addEventListener("focusin",e=>{0==e.target.value&&(usd.value="",brl.value="")}),get("#form-inputs").addEventListener("input",e=>{let t=getFromBrDecimalToNumber(e.target.value),a=getNumbersOnlyIncludeBrDecimalFormat(e.target.value);e.target.value=a,"brl"==e.target.id?baseValue=t/(exchangeRate.btcToBrl/exchangeRate.btcToUsd):"usd"==e.target.id&&(baseValue=t),"brl"!=e.target.id&&(brl.value=get2DigitsBrValue(Number(baseValue*(exchangeRate.btcToBrl/exchangeRate.btcToUsd)),2)),"usd"!=e.target.id&&(usd.value=get2DigitsBrValue(Number(baseValue),2))});