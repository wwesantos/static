function showResultFor(t,e,n){get("#totalInvested").innerHTML=getUsCurrency(t),get("#totalRevenue").innerHTML=getUsCurrency(e),get("#total").innerHTML=getUsCurrency(n)}function displayChart(t,e){void 0!==window.myStackChart&&null!==window.myStackChart&&window.myStackChart.destroy(),window.myStackChart=new Chart(document.getElementById("myChart"),{type:"bar",options:{animation:!0,plugins:{legend:{display:!0},tooltip:{enabled:!0,displayColors:!1,callbacks:{label:function(n){let a=n.dataIndex,l=t[a].totalInvestido,o=t[a].totalRendimento,i=l+o;e[a];return"Total of Investments: "+getUsCurrency(l)+" | Total of Interest: "+getUsCurrency(o)+" | Total: "+getUsCurrency(i)}}}},stack:!0,scales:{y:{ticks:{callback:t=>getUsCurrency(t)}}}},data:{labels:e,datasets:[{stack:"stack1",label:"Total invested until the month",data:t.map(t=>t.totalInvestido)},{stack:"stack1",label:"Total of interest until the month",data:t.map(t=>t.totalRendimento)}]}})}function updateResult(){let t=getFromUsDecimalToNumber(get("#interest").value),e=getFromUsDecimalToNumber(get("#time").value),n=getFromUsDecimalToNumber(get("#initial").value),a=getFromUsDecimalToNumber(get("#montly").value),l=get("#interestOption"),o=l.options[l.selectedIndex].value,i=get("#timeOption"),s=i.options[i.selectedIndex].value,r=t/100+1;if("ANNUAL"==o&&(r=Math.pow(r,1/12)),r-=1,"YEARS"==s&&(e*=12),(n>0||a>0)&&t>0&&e>0){let t=[],l=[],o=n,i=0,s=0;l.push({totalRendimento:i,totalInvestido:o,totalAcumulado:o+i}),t.push("Month "+s);for(let n=0;n<e;n++){let e=(o+i)*r;o+=a,i+=e,s=n+1,l.push({totalRendimento:i,totalInvestido:o,totalAcumulado:o+i}),t.push("Month "+s)}let u=o+i;get("#result").classList.remove("d-none"),showResultFor(o,i,u),displayChart(l,t)}else get("#result").classList.add("d-none")}function updateValueForElement(t,e){var n=get(t),a=n.value;0==a.length&&(a="0"),n.value=addUsValue(a,e),updateResult()}function refreshInterest(){let t=get("#interest"),e=t.value;if(0==e.length)return;let n=getFromUsDecimalToNumber(e);var a=get("#interestOption");let l=a.options[a.selectedIndex].value;t.value="MONTHLY"==l&&n>100?"100":"ANNUAL"==l&&n>200?"200":getNumbersOnlyIncludeUsDecimalFormat(e)}function refreshTime(){let t=get("#time"),e=t.value;if(0==e.length)return;let n=Number(getNumbersOnly(e));var a=get("#timeOption");let l=a.options[a.selectedIndex].value;t.value="MONTHS"==l&&n>1200?"600":"YEARS"==l&&n>100?"100":getNumbersOnly(e)}get("#form-inputs").addEventListener("input",t=>{var e=t.target.id;"interestOption"==e||"interest"==e?refreshInterest():"timeOption"==e||"time"==e?refreshTime():"initial"!=e&&"montly"!=e||("initial"==e&&t.target.value.length>14?t.target.value=t.target.value.substring(0,14):"montly"==e&&t.target.value.length>13?t.target.value=t.target.value.substring(0,13):t.target.value=getNumbersOnlyIncludeUsDecimalFormat(t.target.value)),updateResult()}),get("#form-inputs").addEventListener("click",t=>{var e=t.target.classList;e.contains("initialUp")?updateValueForElement("#initial",1):e.contains("initialDown")?updateValueForElement("#initial",-1):e.contains("montlyUp")?updateValueForElement("#montly",1):e.contains("montlyDown")?updateValueForElement("#montly",-1):e.contains("interestUp")?updateValueForElement("#interest",1):e.contains("interestDown")?updateValueForElement("#interest",-1):e.contains("timeUp")?updateValueForElement("#time",1):e.contains("timeDown")&&updateValueForElement("#time",-1)});